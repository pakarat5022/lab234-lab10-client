language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/1.20.1/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "592115022" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t 592115022/se234-lab10-backend .
- docker push 592115022/se234-lab10-backend
- docker pull 592115022/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: G2CD7rbu+7/9WLrYnQHPa5dMGbePSc8CVKKixeqOjIONNagWb2L0XE89h47oVaZanG0EXK6U+7uYqhtOJzZisAUjTt3n40bFNT15YA7hoF+Rr9iXy1HUlIeuTDCmqdUqFCXARIb49MTG+LPrpBg4Y3Mj8MccRdjpMn/wvigCpkK4bDV6xlUuAAz7fw+Z544w109zkOhKdjJpyMHKVazzIy/mBhftZ04WNPWmeVINrFHl1H9QtwUXu2VpJe1km6YyR7xyYvSxvmpnuMSh3WBI2/Di3qVQg3Hx/0tYbXHkrjK/IqSqizvl39MEm13eDNkpg4e4WbUSknTtgwG4xX3Qx4A5X/KpsT0ExEed4i6kGaQxYA1vE8guNQJxCUQUppgKdtybX76eny5PIRW2IfhA07SBvUbvTG8v9GdKNan+j9nJ6Hr6jyR304CBOeg43h60aCXUO7FmRY35iTRmoqoYD2iOpAmgAduech91DC9LIW3f8grG9qo7ivh1SNiYrO7zR47UeWGgs/HB2IIQbNuP9NJWLmwsW4wjVICL+MqEYS8z91XqU2G3zblA77g3kknctRTO4kYlirCSUQncLJcfMr4UmtGFfLtXeozoTi+/Ms+6DGYmhFxrzt8Lx4KzJUxW9xQNXkSr0NQhda+yDGIDxPK3u3QIUJ1nsVtA4TvFhc0=
  - secure: qmV0bBBrulO5ReMKSxFo+yukiZctX7vYYyK3Z/yR9XTk3xzz+mZPhk0PxKBIK5Joi0YtUBa7rA3tI+Jx6uh9bbWybEhgLsKcTi+nqCQyNVQcZgwI0fLt0UFZ5NZU9hqHSfEIay7ocC1VIraeDzMF6TzUa5jUi1cVMfXuu2tjXLtHHaaKhof51uTCug/sZ2BbcwOlK2qLkqeWO8WsR2MUaTCu3gt9Njv7iqjVCT7DavnhB6QVR6J3Zj0FGPpOgNZ8Ily8+qvU/YRAAcOcq+cDVJsLzttO0X81VEImcUmt8GTpJkgnBSZOwQlzeiooj6IB6stmfAuXBuiqFPg4cEV00yFYsQJxnLKO36A5QviCLCSvpAEfKU9p9hCA1NeanMPy1Hy6YH3odRMCu6wvhofEGSvk6F5zxjYoBDNztG+OzNmJMr+6AtyLwGqx78OYjLcm+2FJwdMXD2EkV10p5nG/Pk0EZYoYUoq993Wb78xiKeHc7uuPehLeKlfu0/Lk7UMLTMlJEpoAKqJl0kBC075I47nfwpVrNkrEHlw5tIZLj2f/eTdCzHtQnL8GzqSXClDmbGr2OfpXmEubWWA7GFT7UKbcco2b1uuNkmL/SzpwdwHM1G+h2yPnfE8mzibuoyW1/Rj0I13TJ7iXOypK1VG9n3oBept2OsV86j3oP7MQXQc=
  - secure: hR2WIPQn8J9dBOodX2ty9IeqcMBjWtir+ynfVOCCjDz2CPLklOJS0QEqPqo2rjKAhk+8dx4TGFbjJDsAO4BC07DUqCzeP2D/sTvXsPGCQMHQRGYXOU3yhjSXEqYe5zvGi3vbkPu6Uw9ezv4PZJX9deYTY9kBvaMnjgzidsKw3m6uuzQMH8i/YdkC8u09idJ0Tyu8+RGH3iPndjee1ClxHkWc1V1QQzMRASg0kCCyb8zawL4BJiNS+KK95GHp1xRQfKFWop25DKVchopcc/12R8BsBsiugKc9iebVBo7V5ZHAZ4UGmr5/7Jwvz+6fhpL+XJL2iCwAsc7OHwmqy6YdCb/S1E3VpvwlaWZnIjN6vegyBpNVRmFzZ3Bp61SDc/yexDzkdOshH8HWyVkfYCM2k8lzh7afRvZr6pdl/iFZy4Qrni7HvKu62Esx6DupJ3rXLKFQkXz9eiFtKVGG4Hz6KyU8J2A1vcQBtqgBdJRTYMyqH79Z6pHV5eh/D690gXq23JEsEz3tWkj/sY/UPUV3BAYyAAriRqH789KEclWWj1cfc6DGd8dlmBEZsOVmYoiOOGr2+bZ4IiXwfi1YZOvEJKJvNzkZejnQwVrui008tGhNo2my7NLVzjJwZQkn40jedJ8pTwwlWkrF99YPHjTdkvHp6b89uQTVXDoM37eMjdI=
